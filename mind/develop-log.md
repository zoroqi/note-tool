# 2019-07-21

* 需求

1. 将固定格式的md转换成mm文件, 提供互相转换
2. 保持格式美观, 要保证节点不能只在一侧

* 设计方案

1. [.mm](http://freemind.sourceforge.net/wiki/index.php/File_format)文件格式描述
2. md文件格式
    ```
    * 中心主题
        * 分支主题1
            * 子主题1
                * 子主题1
                * 子主题2
                    1. 笔记说明
                    2. 其它描述类信息
                    3. 这部分不展示
            * 子主题2 
            * [子主题3](http://)
            * [子主题4](分支主题3)
            * [子主题5](test.mm)
        * 分支主题2
        * 分支主题3
    ```
3. md和mm之间的转换会丢失格式, 对mm中的格式数据可以不进行转换
4. 左右分割原则, 只有一级需要进行左右分割, 二级之后是不需要的. 
    * 方案一: 根据一级标签数量简单平均分割
    * 方案二: 根据二级标签数量进行平均分割
    * 方案三: 根据所有子节点的总和进行分割
5. 方案选择, 暂定二, 实现相对简单. 看情况可以支持多级也可以

# 2019-07-22

* 问题

1. 官方文档没有最新的描述
2. 内部超链暂时不知道如何用md进行表达, 我使用的是\*进行分割, 这个没有锚点
3. 如何进行内部锚点描述, 这个最开始没有想到...
4. etree 这个工具包进行序列化html的时候没法做格式化, 只保留一行, 这导致文件异常难看. 

* 设计方案

1. 选择只使用mapper/note/richcontent(内部是html)/linktarget(节点之间的连线)/arrowlink(节点之间的连线) 其他标签暂时无法使用
2. 选用x/net中的html进行解析, 看情况可能选择etree这个要再看
3. 针对锚点暂时采用全匹配进行锚点
4. 针对etree部分的处理, 尝试看看 encode/xml. 不行使用自己的见一个分支专门处理这个换行

# 2019-07-23

* 需求
1. 我需要为自己的文档做一个特别版本, 我文档格式决定是. 上半部分为记录, 下半部分为思维导图的md, 需要做特殊解析

* 设计方案

1. 发现etree输出格式化,需要手动指定, indent. 这个隐藏的有点深. 实现方式是插入一个CharData结构, 来实现的. 
2. 针对我自己的文档进行转换, 提供一个特殊的分支, 输入格式为
```markdown
...一些内容
### 思维导图
...

> 脑图概述

* 主题
    * 主题2
    * 主题3

file end/### 其他内容

```
    






